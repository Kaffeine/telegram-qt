
function(project_option OPTION_NAME OPTION_TEXT OPTION_VALUE)
    string(TOUPPER "${PROJECT_NAME}" OPTION_PREFIX)
    if(CMAKE_PROJECT_NAME STREQUAL PROJECT_NAME)
        option(${OPTION_NAME} "${OPTION_TEXT}" ${OPTION_VALUE})
        set(${OPTION_PREFIX}_${OPTION_NAME} ${${OPTION_NAME}} PARENT_SCOPE)
    else()
        option(${OPTION_PREFIX}_${OPTION_NAME} "${OPTION_TEXT}" ${OPTION_VALUE})
    endif()
endfunction()

function(project_option_with_list OPTION_NAME OPTION_TEXT OPTION_VALUE OPTION_LIST_PLACEHOLDER)
    string(TOUPPER "${PROJECT_NAME}" OPTION_PREFIX)
    if(CMAKE_PROJECT_NAME STREQUAL PROJECT_NAME)
        set(OPTION_FULL_NAME "${OPTION_NAME}")
    else()
        set(OPTION_FULL_NAME "${OPTION_PREFIX}_${OPTION_NAME}")
    endif()

    set(${OPTION_FULL_NAME} "${OPTION_VALUE}" CACHE STRING "${OPTION_TEXT}")
    set_property(CACHE "${OPTION_FULL_NAME}" PROPERTY STRINGS ${ARGN})

    if(CMAKE_PROJECT_NAME STREQUAL PROJECT_NAME)
        set(${OPTION_PREFIX}_${OPTION_NAME} ${${OPTION_NAME}} PARENT_SCOPE)
    endif()
endfunction()
